import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { motion } from "framer-motion";
import { Play, Pause } from "lucide-react";

const songs = [
  { title: "Song 1", src: "/songs/song1.mp3" },
  { title: "Song 2", src: "/songs/song2.mp3" },
  { title: "Song 3", src: "/songs/song3.mp3" },
];

export default function ChatSender() {
  const [message, setMessage] = useState("");
  const [sentMessages, setSentMessages] = useState([]);
  const [selectedSong, setSelectedSong] = useState(null);

  const sendMessage = () => {
    if (message.trim() !== "") {
      setSentMessages([...sentMessages, { text: message, song: selectedSong }]);
      setMessage("");
    }
  };

  return (
    <div className="p-4 max-w-md mx-auto">
      <div className="mb-4 space-y-2">
        {sentMessages.map((msg, index) => (
          <motion.div key={index} className="p-2 bg-gray-200 rounded-md">
            {msg.text}
            {msg.song && (
              <Button
                className="ml-2 bg-blue-500 text-white"
                onClick={() => alert(`Play ${msg.song.title}`)}
              >
                {msg.song.title}
              </Button>
            )}
          </motion.div>
        ))}
      </div>
      <Input
        value={message}
        onChange={(e) => setMessage(e.target.value)}
        placeholder="Type a message..."
      />
      <div className="mt-2 flex gap-2">
        <Button onClick={sendMessage} className="bg-green-500 text-white">
          Send
        </Button>
        <select
          onChange={(e) =>
            setSelectedSong(songs.find((s) => s.title === e.target.value))
          }
          className="border rounded-md px-2 py-1"
        >
          <option value="">Select a song</option>
          {songs.map((song, index) => (
            <option key={index} value={song.title}>
              {song.title}
            </option>
          ))}
        </select>
      </div>
    </div>
  );
}
